/*======================================================================
Имя файла:          core.h
Автор:
Версия файла:
Дата изменения:
Описание:
Описание структур и функций ядра

Inputs 
Outputs
========================================================================*/

#ifndef CORE_
#define CORE_

//----------- Подключение заголовочных файлов ------------------------------


#include "g_Rom.h"

//--------------------- Константы-------------------------------------------

#define ON				0
#define OFF				1

#define	CAN_NOT_BE_RESETED		0 // ?????? ?? ????????? ?????????????
#define	CAN_BE_RESETED			1 // ?????? ????????? ?????????????
#define	CAN_BE_MUFTA			2 // ????? ?????? ?????

#define	INP_LESS_LEVEL			0 // ?????? ??? ?????????? ??????? ????????? ??????
#define	INP_GREATER_LEVEL		1 // ?????? ??? ?????????? ??????? ????????? ??????

#define	HYST_OFF				0 // ??? ???????????

#define PROTECT_SCALE (0.100 * PRD_50HZ)
//--------------------- ?????????-------------------------------------------
#define CMD_DEFAULTS_USER	0x0010	// ???????????????? ????????? ?? ?????????
#define CMD_RES_CLB			0x0020	// ????? ?????????? ??????? ?????????
#define CMD_RES_FAULT		0x0040	// ????? ?????
#define CMD_CLR_LOG			0x0080	// ??????? ???????
#define CMD_RES_CYCLE		0x0100	// ????? ???????? ??????
#define CMD_PAR_CHANGE		0x0200	// ????????? ??????????
#define CMD_DEFAULTS_FACT 	0x0400	// ????????? ????????? ?? ?????????

// Макрос определения процента обновления данных в памяти

#define TEN_OFF				0
#define TEN_ON				1
#define KEY_NONE       0  // ???????
#define KEY_OPEN       1  // ???????
#define KEY_CLOSE      2  // ???????
#define KEY_STOP       3  // ????

//--------------------- Макросы --------------------------------------------
#define PRT_CFG_SET(CanBeReseted, Level, Bit, Hyst) \
	((CanBeReseted<<1)|(Level<<3)|(Bit<<4)|(Hyst<<8))
          
//-------------------- Структуры -------------------------------------------

//================== ЯДРО ============================

//--------------------------------------------------------

typedef struct {
	// ---
	TStatusReg 			Status;			// Статус работы
	// ---
    
        Uns                             MenuLvl;
        Uns                             MenuSublvl;
} TCore;

void Core_Init(TCore *);

void core18kHZupdate(void);
void core200HZupdate(void);
void coreMenu(void);

extern TCore g_Core;
#endif // CORE_

